(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{737:function(t,s,a){"use strict";a.r(s);var _=a(1),v=Object(_.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("注意影响")]),t._v(" "),a("p",[t._v("所有的单测一定针对不是生产环境,一般线上发布我们会声明不运行单测。\n如何考虑环境因素呢?")]),t._v(" "),a("p",[t._v("两个解决办法:")]),t._v(" "),a("ul",[a("li",[t._v("应用维度环境分离 spring.profiles.active=test")]),t._v(" "),a("li",[t._v('测试基类指定环境 @ActiveProfiles("test")')])])]),t._v(" "),a("h2",{attrs:{id:"一、影响范围考虑哪些因素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、影响范围考虑哪些因素"}},[t._v("#")]),t._v(" 一、影响范围考虑哪些因素?")]),t._v(" "),a("h3",{attrs:{id:"_1-1-是否影响测试环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-是否影响测试环境"}},[t._v("#")]),t._v(" 1.1 是否影响测试环境?")]),t._v(" "),a("p",[t._v("可以设置单测事务不提交,保证对数据无影响。")]),t._v(" "),a("h3",{attrs:{id:"_1-2-是否对业务无影响"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-是否对业务无影响"}},[t._v("#")]),t._v(" 1.2 是否对业务无影响?")]),t._v(" "),a("p",[t._v("检查是否做了环境隔离。")]),t._v(" "),a("h3",{attrs:{id:"_1-3-是否可重复跑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-是否可重复跑"}},[t._v("#")]),t._v(" 1.3 是否可重复跑?")]),t._v(" "),a("p",[t._v("如果前两点都已经解决,那么就可以重复跑。\n重复跑可以模拟验证幂等或者重复提交的问题。")]),t._v(" "),a("h2",{attrs:{id:"三、什么时候写单测"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、什么时候写单测"}},[t._v("#")]),t._v(" 三、什么时候写单测")]),t._v(" "),a("p",[t._v("后端开发进度: 开发50% + 单元测试30% + 联调20%")]),t._v(" "),a("ol",[a("li",[t._v("自己代码开发完成后,就应该进行单测。")]),t._v(" "),a("li",[t._v("自己代码开发完了,其他人没有开发完。可以进行Mockito单测,先确保自己的代码没问题。")]),t._v(" "),a("li",[t._v("对自己负责的功能模块进行单测维护。")])])])}),[],!1,null,null,null);s.default=v.exports}}]);